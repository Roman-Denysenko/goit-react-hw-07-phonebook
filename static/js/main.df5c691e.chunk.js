(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(t,e,n){t.exports={container:"App_container__3_M-X",enter:"App_enter__3pRbX",enterActive:"App_enterActive__3tJXJ",exit:"App_exit__1Sedl",exitActive:"App_exitActive__3wylS",appear:"App_appear__2sJAh",appearActive:"App_appearActive__yeu2c"}},19:function(t,e,n){t.exports={button:"ContactList_button__25bBJ",item:"ContactList_item__1MUA4",enter:"ContactList_enter__1sIMZ",enterActive:"ContactList_enterActive__3_Sw5",exit:"ContactList_exit__1vSfT",exitActive:"ContactList_exitActive__nV_8X"}},24:function(t,e,n){t.exports={label:"Filter_label__c9j8x",input:"Filter_input__1cmaZ"}},37:function(t,e,n){t.exports={warningContainer:"Warning_warningContainer__2mECf"}},50:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var c,a,r=n(0),o=n.n(r),i=n(10),u=n.n(i),s=n(8),l=n(17),b=n(2),j=n(11),m=n(4),f=n(3),d=Object(b.b)("fetchContactsRequest"),_=Object(b.b)("fetchContactsSuccess"),p=Object(b.b)("fetchContactsError"),O=Object(b.b)("addContactRequest"),h=Object(b.b)("addContactSuccess"),x=Object(b.b)("addContactError"),C=Object(b.b)("deleteContactRequest"),v=Object(b.b)("deleteContactSuccess"),g=Object(b.b)("deleteContactError"),A=Object(b.b)("filterContacts"),F=Object(b.c)([],(c={},Object(m.a)(c,_,(function(t,e){return e.payload})),Object(m.a)(c,h,(function(t,e){var n=e.payload;return[].concat(Object(l.a)(t),[n])})),Object(m.a)(c,v,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),N=Object(b.c)("",Object(m.a)({},A,(function(t,e){return e.payload}))),w=Object(b.c)(!1,(a={},Object(m.a)(a,d,(function(){return!0})),Object(m.a)(a,_,(function(){return!1})),Object(m.a)(a,p,(function(){return!1})),Object(m.a)(a,O,(function(){return!0})),Object(m.a)(a,h,(function(){return!1})),Object(m.a)(a,x,(function(){return!1})),Object(m.a)(a,C,(function(){return!0})),Object(m.a)(a,v,(function(){return!1})),Object(m.a)(a,g,(function(){return!1})),a)),S=Object(b.c)(null,{}),y=Object(f.c)({items:F,filter:N,loading:w,error:S}),L=Object(l.a)(Object(b.d)({serializableCheck:{ignoredActions:[j.a,j.f,j.b,j.c,j.d,j.e]}})),E=Object(b.a)({reducer:{contacts:y},middleware:L,devTools:!1}),I=(n(50),n(72)),k=n(18),D=n.n(k),J=n(14),V=n.n(J);V.a.defaults.baseURL="http://localhost:1313/";var R=function(){return function(t){t(d()),V.a.get("/contacts").then((function(e){var n=e.data;return t(_(n))})).catch((function(e){return t(p(e))}))}},M=n(16),X=function(t){return t.contacts},q=function(t){return X(t).items},B=function(t){return X(t).filter},Q=Object(M.a)([q,B],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),U={getContacts:X,getContactsItems:q,getLoading:function(t){return X(t).loading},getFilterValue:B,getVisibleContacts:Q},P=n(35),T=n(36),Z=n(39),z=n(38),W=n(73),Y=n(37),G=n.n(Y),H=n(1),K=function(t){var e=t.name;return Object(H.jsx)("div",{className:G.a.warningContainer,children:Object(H.jsx)("p",{children:"".concat(e," is already is contact")})})},$=n(9),tt=n.n($),et=function(t){Object(Z.a)(n,t);var e=Object(z.a)(n);function n(){var t;Object(P.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",warning:!1},t.handleInputName=function(e){var n,c=e.target,a=c.name,r=c.value;t.setState((n={},Object(m.a)(n,a,r),Object(m.a)(n,"warning",!1),n)),t.handleDeleteContactFromFormState()},t.handleSubmitForm=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number,r=t.props.contacts.items,o={id:Object(W.a)(),name:c,number:a};""!==c&&""!==a&&(r.find((function(t){return c===t.name}))?t.setState({warning:!0}):(t.setState({warning:!1}),t.props.onAdd(o),t.resetInput()))},t.handleDeleteContactFromFormState=function(){var e=t.props.contacts.items;t.setState({contacts:e})},t.resetInput=function(){t.setState({name:"",number:""})},t}return Object(T.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.warning;return Object(H.jsxs)("div",{className:tt.a.formContainer,children:[Object(H.jsx)(I.a,{in:c,timeout:250,classNames:tt.a,unmountOnExit:!0,children:Object(H.jsx)(K,{name:e})}),Object(H.jsxs)("form",{onSubmit:this.handleSubmitForm,className:tt.a.form,children:[Object(H.jsxs)("label",{className:tt.a.label,children:["Name",Object(H.jsx)("input",{className:tt.a.input,type:"text",name:"name",value:e,onChange:this.handleInputName})]}),Object(H.jsxs)("label",{className:tt.a.label,children:["Number",Object(H.jsx)("input",{className:tt.a.input,type:"tel",name:"number",value:n,onChange:this.handleInputName})]}),Object(H.jsx)("button",{className:tt.a.button,type:"submit",children:"Add contact"})]})]})}}]),n}(r.Component);et.defaultProps={};var nt=Object(s.b)((function(t){return{contacts:U.getContacts(t)}}),(function(t){return{onAdd:function(e){return t(function(t){return function(e){e(O()),V.a.post("/contacts",t).then((function(t){var n=t.data;return e(h(n))})).catch((function(t){return e(x(t))}))}}(e))}}}))(et),ct=n(74),at=n(19),rt=n.n(at),ot=Object(s.b)((function(t){return{items:U.getContactsItems(t),visibleContacts:U.getVisibleContacts(t)}}),(function(t){return{onDelete:function(e){return t(function(t){return function(e){e(C()),V.a.delete("/contacts/".concat(t)).then((function(){return e(v(t))})).catch((function(t){return e(g(t))}))}}(e))}}}))((function(t){var e=t.items,n=t.visibleContacts,c=t.onDelete;if(0===e.length)return null;return Object(H.jsx)(ct.a,{component:"ul",children:n.map((function(t){var e=t.id,n=t.name,a=t.number;return""===n||""===a?null:Object(H.jsx)(I.a,{timeout:250,classNames:rt.a,children:Object(H.jsxs)("li",{className:rt.a.item,children:[n,": ",a,Object(H.jsx)("button",{className:rt.a.button,type:"button",id:e,onClick:function(){return c(e)},children:"Delete"})," "]})},e)}))})})),it=n(24),ut=n.n(it),st=Object(s.b)((function(t){return{value:U.getFilterValue(t)}}),(function(t){return{onFilter:function(e){return t(A(e.target.value))}}}))((function(t){var e=t.value,n=t.onFilter;return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)("label",{className:ut.a.label,children:["Find contact by name",Object(H.jsx)("input",{className:ut.a.input,type:"text",name:"filter",value:e,onChange:n})]})})})),lt=Object(s.b)((function(t){return{items:U.getContactsItems(t),error:U.getLoading(t)}}),(function(t){return{fetchContacts:t(R())}}))((function(t){var e=t.items,n=t.error;return R(),Object(H.jsxs)("div",{className:D.a.container,children:[Object(H.jsx)(I.a,{in:!0,appear:!0,classNames:D.a,timeout:500,unmountOnExit:!0,children:Object(H.jsx)("h1",{children:"Phonebook"})}),Object(H.jsx)(nt,{}),n&&Object(H.jsx)("p",{children:"Loading..."}),Object(H.jsx)(I.a,{in:e.length>0,timeout:250,classNames:D.a,unmountOnExit:!0,children:Object(H.jsxs)("div",{children:[Object(H.jsx)("h2",{children:"Contacts"}),Object(H.jsx)(st,{}),Object(H.jsx)(ot,{})]})})]})}));u.a.render(Object(H.jsx)(o.a.StrictMode,{children:Object(H.jsx)(s.a,{store:E,children:Object(H.jsx)(lt,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={form:"ContactForm_form__2jL9Y",input:"ContactForm_input__1_six",label:"ContactForm_label__3CBjF",button:"ContactForm_button__1ufxU",formContainer:"ContactForm_formContainer__1EDfQ",enter:"ContactForm_enter__1mEfr",enterActive:"ContactForm_enterActive__3DDVr",exit:"ContactForm_exit__2dkQ1",exitActive:"ContactForm_exitActive__2Qmmr"}}},[[70,1,2]]]);
//# sourceMappingURL=main.df5c691e.chunk.js.map